import{_ as s,c as n,o as a,a2 as e}from"./chunks/framework.CApsVRxt.js";const t="/my-microfrontend.png",g=JSON.parse('{"title":"Registering a Microfrontend in OpenMFP","description":"","frontmatter":{},"headers":[],"relativePath":"documentation/extended-guide/register-microfrontend.md","filePath":"documentation/extended-guide/register-microfrontend.md","lastUpdated":1765879452000}'),l={name:"documentation/extended-guide/register-microfrontend.md"};function o(p,i,h,r,k,d){return a(),n("div",null,[...i[0]||(i[0]=[e(`<h1 id="registering-a-microfrontend-in-openmfp" tabindex="-1">Registering a Microfrontend in OpenMFP <a class="header-anchor" href="#registering-a-microfrontend-in-openmfp" aria-label="Permalink to &quot;Registering a Microfrontend in OpenMFP&quot;">​</a></h1><p>You can register a micro frontend in the OpenMFP Portal to integrate it permanently into your portal. This guide walks you through the process of registering a micro frontend.</p><h2 id="steps-to-register-a-microfrontend" tabindex="-1">Steps to Register a Microfrontend <a class="header-anchor" href="#steps-to-register-a-microfrontend" aria-label="Permalink to &quot;Steps to Register a Microfrontend&quot;">​</a></h2><h3 id="_1-create-a-contentconfiguration" tabindex="-1">1. Create a ContentConfiguration <a class="header-anchor" href="#_1-create-a-contentconfiguration" aria-label="Permalink to &quot;1. Create a ContentConfiguration&quot;">​</a></h3><p>To register a micro frontend in OpenMFP, you need to create a <code>ContentConfiguration</code>. This is a Kubernetes Custom Resource (CRD) managed by the <code>openmfp-extension-manager-operator</code>. Once deployed, the operator reconciles the resource to reflect the defined configuration.</p><p>The <code>ContentConfiguration</code> can be defined using either <code>remoteConfiguration</code> or <code>inlineConfiguration</code>:</p><ul><li><strong>Remote configuration</strong>: References an externally hosted JSON or YAML file. The specified URL must be accessible by the cluster to ensure proper retrieval and application of the configuration.</li><li><strong>Inline configuration</strong>: Embeds the JSON or YAML content directly in the <code>ContentConfiguration</code> resource.</li></ul><p>Before proceeding, create a file named <code>content-configuration.yaml</code> and define your desired configuration as specified in the <a href="/documentation/extended-guide/content-configuration">Content Configuration</a> section. You can also follow the next examples.</p><h4 id="example-remote-configuration" tabindex="-1">Example: Remote Configuration <a class="header-anchor" href="#example-remote-configuration" aria-label="Permalink to &quot;Example: Remote Configuration&quot;">​</a></h4><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">core.openmfp.io/v1alpha1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ContentConfiguration</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">my-microfrontend</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  namespace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">openmfp-system</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  labels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    portal.openmfp.org/entity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">global</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  remoteConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">https://url.hosting.my.microfrontend/assets/content-configuration.json</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    contentType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">json</span></span></code></pre></div><h4 id="example-inline-configuration" tabindex="-1">Example: Inline Configuration <a class="header-anchor" href="#example-inline-configuration" aria-label="Permalink to &quot;Example: Inline Configuration&quot;">​</a></h4><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">core.openmfp.io/v1alpha1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ContentConfiguration</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">my-microfrontend</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  namespace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">openmfp-system</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  labels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    portal.openmfp.org/entity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">global</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  inlineConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|-</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;name&quot;: &quot;my-microfrontend&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;url&quot;: &quot;https://url.hosting.my.microfrontend&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;luigiConfigFragment&quot;: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          &quot;data&quot;: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;nodes&quot;: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">              {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot;pathSegment&quot;: &quot;ur-path-segment-inline&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot;label&quot;: &quot;My Microfrontend&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot;entityType&quot;: &quot;global&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot;hideFromNav&quot;: false,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot;urlSuffix&quot;: &quot;/index.html&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot;icon&quot;: &quot;folder&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot;loadingIndicator&quot;: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                  &quot;enabled&quot;: false</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                }</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">              }</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            ]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          }</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        }</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      }</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    contentType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">json</span></span></code></pre></div><p>Ensure that the label <code>portal.openmfp.org/entity</code> is present.</p><h3 id="_2-apply-the-configuration" tabindex="-1">2. Apply the Configuration <a class="header-anchor" href="#_2-apply-the-configuration" aria-label="Permalink to &quot;2. Apply the Configuration&quot;">​</a></h3><p>Once you have created the YAML file, apply it to the Kubernetes cluster using the following command:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apply</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> content-configuration.yaml</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --context</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kind-openmfp</span></span></code></pre></div><h3 id="_3-edit-an-existing-configuration" tabindex="-1">3. Edit an Existing Configuration <a class="header-anchor" href="#_3-edit-an-existing-configuration" aria-label="Permalink to &quot;3. Edit an Existing Configuration&quot;">​</a></h3><h4 id="remote-configuration" tabindex="-1">Remote Configuration <a class="header-anchor" href="#remote-configuration" aria-label="Permalink to &quot;Remote Configuration&quot;">​</a></h4><ul><li>Changes made to the remote <code>content-configuration.json</code> are automatically reflected in the OpenMFP Portal within five minutes.</li><li>To force immediate updates, manually edit the <code>ContentConfiguration</code> Custom Resource in the cluster so that the operator reconciles the resource.</li></ul><h4 id="inline-configuration" tabindex="-1">Inline Configuration <a class="header-anchor" href="#inline-configuration" aria-label="Permalink to &quot;Inline Configuration&quot;">​</a></h4><ul><li>Changes made in the inline configuration are immediately reflected in the OpenMFP Portal after editing the <code>ContentConfiguration</code> Custom Resource in the cluster.</li></ul><p>To update an existing <code>ContentConfiguration</code>, edit it directly in the cluster:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> edit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> contentconfiguration</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-microfrontend</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --namespace</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openmfp-system</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --context</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kind-openmfp</span></span></code></pre></div><p>Alternatively, modify the YAML file and reapply it:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apply</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> content-configuration.yaml</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --context</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kind-openmfp</span></span></code></pre></div><h3 id="_4-view-the-microfrontend-in-the-openmfp-portal" tabindex="-1">4. View the Microfrontend in the OpenMFP Portal <a class="header-anchor" href="#_4-view-the-microfrontend-in-the-openmfp-portal" aria-label="Permalink to &quot;4. View the Microfrontend in the OpenMFP Portal&quot;">​</a></h3><p>After successfully applying the configuration, your micro frontend should be visible in the OpenMFP portal.</p><p><img src="`+t+'" alt="My Microfrontend in the OpenMFP Portal"></p>',28)])])}const u=s(l,[["render",o]]);export{g as __pageData,u as default};
